I"‘:<p><img src="/assets/img/cpp/conan.jpg" alt="Conan - A package manager for C/C++" /></p>

<h1 id="introduction">Introduction</h1>
<p><a href="https://conan.io/">Conan</a> is a software package manager for <a href="https://en.terminalroot.com.br/why-is-the-c-programming-language-still-on-the-rise/">C</a> and <a href="https://en.terminalroot.com.br/learn-to-create-a-graphical-application-with-c-and-gtkmm/">C++</a> developers.</p>

<p>It works on all operating systems, including <a href="https://en.terminalroot.com.br/top-5-best-git-clients-for-linux-mac-and-windows/">Windows</a>, <a href="https://en.terminalroot.com.br/top-10-best-code-editors-for-linux/">Linux</a>, <a href="https://en.terminalroot.com.br/how-to-install-macos-on-virtualbox-on-linux/">macOS</a>, FreeBSD, Solaris and others, and can be targeted to any platform, including desktop, server and cross-construction for embedded and bare metal devices.</p>

<p>It integrates with other tools such as <a href="https://en.terminalroot.com.br/definitive-docker-tutorial-for-beginners-ubuntu/">Docker</a>, MinGW, WSL and with all building systems, such as <a href="https://en.terminalroot.com.br/how-to-compile-your-programs-with-cmake/">CMake</a>, MSBuild, <a href="https://en.terminalroot.com.br/how-to-create-a-makefile/">Makefiles</a>, <a href="https://en.terminalroot.com.br/how-to-compile-programs-with-ninja-and-meson-build/">Meson</a>, SCons. It can even integrate with any proprietary building system.</p>

<p>Conan is completely free, open source and fully decentralized. The central <a href="https://conan.io/center/">ConanCenter</a> repository contains hundreds of popular open source library packages, with many precompiled binaries.</p>

<!-- QUADRADO -->
<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<p><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-2838251107855362" data-ad-slot="5351066970"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>

<h1 id="installation">Installation</h1>
<p>There are several ways to install <strong>Conan</strong>. Among the possibilities you can use Portage in <a href="https://en.terminalroot.com.br/10-fundamental-tips-for-your-gentoo-linux/">Gentoo</a> or Funtoo, as follows:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">emerge dev-util/conan</code></pre></figure>

<p>On <a href="https://en.terminalroot.com.br/customize-lightdm-on-arch-linux/">Arch Linux</a> you can use <a href="https://en.terminalroot.com.br/how-to-install-aur-packages-via-yay-on-arch-linux/">Yay</a>:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># no sudo</span>
yay <span class="nt">-S</span> conan</code></pre></figure>

<p>You can also download the <code class="highlighter-rouge">.deb</code>, <code class="highlighter-rouge">.rpm</code>, tarball packages directly from here and install:</p>

<p>Or even install via <a href="https://pypi.org/project/pip/">pip</a>, according to them, more recommended:</p>
<blockquote>
  <p>Before you will need Pip installed, example for systems that use APT:</p>
</blockquote>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>apt <span class="nb">install </span>python3-pip</code></pre></figure>

<p>And just run like this:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pip3 <span class="nb">install </span>conan</code></pre></figure>

<blockquote>
  <p>If you have any problems with the installation, try only for your user: <code class="highlighter-rouge">pip3 install conan --user</code></p>
</blockquote>

<!-- LISTA MIN -->
<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<p><ins class="adsbygoogle" style="display:inline-block;width:730px;height:95px" data-ad-client="ca-pub-2838251107855362" data-ad-slot="5351066970"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>

<h1 id="use">Use</h1>
<p>Let‚Äôs start with a basic example, let‚Äôs create an MD5 hash application that uses one of the most popular libraries for C++: <a href="https://pocoproject.org/">Poco</a>. We will use CMake as a build system in this case, but keep in mind that Conan works with any build system and is not limited to using only CMake.</p>

<h3 id="1-create-the-following-source-file-within-a-directory">1. Create the following source file within a directory.</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">mkdir </span>mymd5 <span class="o">&amp;&amp;</span> <span class="nb">cd </span>mymd5
vim md5.cpp</code></pre></figure>

<p>This will be the source file of our application:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#include "Poco/MD5Engine.h"
#include "Poco/DigestStream.h"
</span>
<span class="cp">#include &lt;iostream&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span> <span class="n">argv</span><span class="p">){</span>
   <span class="n">Poco</span><span class="o">::</span><span class="n">MD5Engine</span> <span class="n">md5</span><span class="p">;</span>
   <span class="n">Poco</span><span class="o">::</span><span class="n">DigestOutputStream</span> <span class="n">ds</span><span class="p">(</span><span class="n">md5</span><span class="p">);</span>
   <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">str</span> <span class="o">=</span> <span class="p">{};</span>
   <span class="k">if</span><span class="p">(</span> <span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">){</span>
      <span class="n">str</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
   <span class="p">}</span><span class="k">else</span><span class="p">{</span>
     <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Enter the word to generate the HASH MD5."</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
     <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="n">ds</span> <span class="o">&lt;&lt;</span> <span class="n">str</span><span class="p">;</span>
   <span class="n">ds</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
   <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">Poco</span><span class="o">::</span><span class="n">DigestEngine</span><span class="o">::</span><span class="n">digestToHex</span><span class="p">(</span><span class="n">md5</span><span class="p">.</span><span class="n">digest</span><span class="p">())</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h3 id="2-now-we-are-going-to-install-poco">2. Now we are going to install Poco</h3>
<p>We can do the search directly through the browser at the link: <a href="https://conan.io/center">https://conan.io/center</a>, or use conan via the command line:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">conan search poco <span class="nt">--remote</span><span class="o">=</span>conan-center</code></pre></figure>

<p>The <code class="highlighter-rouge">--remote=conan-center</code> option prompts you to search online, it can be ignored unless you have the <code class="highlighter-rouge">remotes.json</code> file properly configured in the directory: <code class="highlighter-rouge">$HOME/.conan/remotes.json</code>.</p>

<p>The output will look like this:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">user@host ~/mymd5
Existing package recipes:

poco/1.8.1
poco/1.9.3
poco/1.9.4
poco/1.10.0
poco/1.10.1
user@host ~/mymd5</code></pre></figure>

<!-- RETANGULO LARGO 2 -->
<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-2838251107855362" data-ad-slot="8549252987"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>

<p>Suppose you used the command <code class="highlighter-rouge">conan inspect poco/1.9.4</code> (Use the help for more information: <code class="highlighter-rouge">conan --help</code>) to inspect this version and it is just the version you want, so just install it. To do this, create a file named: <code class="highlighter-rouge">conanfile.txt</code> within your project (in this case, the project: <em>mymd5</em>) with the following information:</p>

<figure class="highlight"><pre><code class="language-toml" data-lang="toml"><span class="nn">[requires]</span>
<span class="err">poco/</span><span class="mf">1.9.4</span>

<span class="nn">[generators]</span>
<span class="err">cmake</span></code></pre></figure>

<blockquote>
  <p>Make sure you have <a href="https://en.terminalroot.com.br/how-to-compile-your-programs-with-cmake/">CMake</a> installed. This will generate the file <code class="highlighter-rouge">conanbuildinfo.cmake</code>.</p>
</blockquote>

<h3 id="3-before-installing-lets-prepare-our-profile-for-conan">3. Before installing, let‚Äôs prepare our profile for Conan</h3>
<p>To do this, run the commands:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">conan profile update settings.compiler.libcxx<span class="o">=</span>libstdc++11 default</code></pre></figure>

<blockquote>
  <p>If you want Conan to automatically detect run: <code class="highlighter-rouge">conan profile new default --detect</code>, if the ABI of your compiler is not compatible you will receive a ‚Äúbeautiful warning‚Äù and you will need to run the command indicated just above anyway.</p>
</blockquote>

<p>This command will configure the file in the path: <code class="highlighter-rouge">$HOME/.conan/profiles/default</code>, something like this:</p>

<figure class="highlight"><pre><code class="language-toml" data-lang="toml"><span class="nn">[settings]</span>
<span class="py">os</span><span class="p">=</span><span class="err">Linux</span>
<span class="py">os_build</span><span class="p">=</span><span class="err">Linux</span>
<span class="py">arch</span><span class="p">=</span><span class="err">x</span><span class="mi">86</span><span class="err">_</span><span class="mi">64</span>
<span class="py">arch_build</span><span class="p">=</span><span class="err">x</span><span class="mi">86</span><span class="err">_</span><span class="mi">64</span>
<span class="py">compiler</span><span class="p">=</span><span class="err">gcc</span>
<span class="py">compiler.version</span><span class="p">=</span><span class="mi">9</span>
<span class="py">compiler.libcxx</span><span class="p">=</span><span class="err">libstdc++</span><span class="mi">11</span>
<span class="py">build_type</span><span class="p">=</span><span class="err">Release</span>
<span class="nn">[options]</span>
<span class="nn">[build_requires]</span>
<span class="nn">[env]</span></code></pre></figure>

<h3 id="4-now-we-are-going-to-install-the-dependencies-with-conan">4. Now we are going to install the dependencies with Conan</h3>
<p>To do this, simply run the commands:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">mkdir </span>build <span class="o">&amp;&amp;</span> <span class="nb">cd </span>build
conan <span class="nb">install</span> ..</code></pre></figure>

<p>The output will look like this:</p>

<p><img src="/assets/img/cpp/conan-install.jpg" alt="Conan output" /></p>

<h3 id="5-create-the-build-file">5. Create the build file</h3>
<p>Now let‚Äôs create the <code class="highlighter-rouge">CMakeLists.txt</code> file based on the file: <code class="highlighter-rouge">conanbuildinfo.cmake</code></p>
<blockquote>
  <p><code class="highlighter-rouge">vim CMakeLists.txt</code> - Outside the <code class="highlighter-rouge">build</code> directory, at the root of your project.</p>
</blockquote>

<figure class="highlight"><pre><code class="language-cmake" data-lang="cmake"><span class="nb">cmake_minimum_required</span><span class="p">(</span>VERSION 2.8.12<span class="p">)</span>
<span class="nb">project</span><span class="p">(</span>MD5Encrypter<span class="p">)</span>

<span class="nb">add_definitions</span><span class="p">(</span><span class="s2">"-std=c++11"</span><span class="p">)</span>

<span class="nb">include</span><span class="p">(</span><span class="si">${</span><span class="nv">CMAKE_BINARY_DIR</span><span class="si">}</span>/conanbuildinfo.cmake<span class="p">)</span>
<span class="nf">conan_basic_setup</span><span class="p">()</span>

<span class="nb">add_executable</span><span class="p">(</span>md5 md5.cpp<span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span>md5 <span class="si">${</span><span class="nv">CONAN_LIBS</span><span class="si">}</span><span class="p">)</span></code></pre></figure>

<h3 id="6-all-set-lets-create-this">6. All set, let‚Äôs create this!</h3>
<p>For Linux or macOS run this command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">cmake .. <span class="nt">-G</span> <span class="s2">"Unix Makefiles"</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>Release
make</code></pre></figure>

<p>There, the binary <code class="highlighter-rouge">md5</code> was generated inside the <code class="highlighter-rouge">bin/md5</code> directory and we can already test it</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd </span>bin/
<span class="nv">$ </span>./md5
Enter the word to generate the HASH MD5.
<span class="nv">$ </span>./md5 <span class="s2">"Terminal Root"</span>
a69f0efcca0116a76921947f135ccdac</code></pre></figure>

<p>Simple, right?!</p>

<p>For more information consult <a href="https://github.com/conan-io/conan">the official Conan repository</a>.</p>

<!-- RETANGULO LARGO -->
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<!-- Informat -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2838251107855362" data-ad-slot="2327980059" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>

:ET